<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sorting Hat Form</title>
</head>
<body>
  <h2>Enter Your Sorting Result</h2>
  <form id="sortingForm">
    <input type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" id="name" required><br><br>
    <input type="text" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 8 ‡∏´‡∏•‡∏±‡∏Å" id="student_id" required><br><br>
    <input type="text" placeholder="‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (Gryffindor, Hufflepuff, ‡∏Ø‡∏•‡∏Ø)" id="house" required><br><br>
    <input type="text" placeholder="‡∏™‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°" id="role" required><br><br>
    <button type="submit">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
  </form>

  <p id="status"></p>

  <script>
    const scriptURL = "https://script.google.com/macros/s/https://script.google.com/a/macros/spu.ac.th/s/AKfycbxFRBzhSBqPhqyAGSoq80pVlNx-bzcDjdIzzffc_G1bhmQDlYyPDExB1oKpjcFzNC0/exec";

    document.getElementById("sortingForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const data = {
        name: document.getElementById("name").value,
        student_id: document.getElementById("student_id").value,
        house: document.getElementById("house").value,
        role: document.getElementById("role").value
      };

      fetch(scriptURL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => document.getElementById("status").innerText = "üìå ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
      .catch(err => document.getElementById("status").innerText = "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î");
    });
  </script>
</body>
</html>
